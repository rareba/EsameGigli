# Parte 1 - prendere i dati library(jsonlite) library(urltools) address = "1600+Pennsylvania+Avenue,+Washington,+DC" urla <- "http://nominatim.openstreetmap.org/search?q=bla&format=json" urla <- param_set(url, key = "q", value = address) # read url and convert to data.frame jsonaddress = fromJSON(readLines(url)[1]) lat = jsonaddress[[1]]$lat lon = jsonaddress[[1]]$lon urlw <- "http://forecast.weather.gov/MapClick.php?lat=1&lon=2&FcstType=json" urlw <- param_set(url, key = "lat", value = lat) urlw <- param_set(url, key = "lon", value = lon) jsonweather = fromJSON(readLines(urlw)[1])
library(jsonlite)
library(urltools)
address = "1600+Pennsylvania+Avenue,+Washington,+DC"
urla <- "http://nominatim.openstreetmap.org/search?q=bla&format=json"
urla <- param_set(url, key = "q", value = address)
# read url and convert to data.frame
jsonaddress = fromJSON(readLines(url)[1])
install.packages('urltools')
address = "1600+Pennsylvania+Avenue,+Washington,+DC"
urla <- "http://nominatim.openstreetmap.org/search?q=bla&format=json"
urla <- param_set(url, key = "q", value = address)
urla <- param_set(urla, key = "q", value = address)
# read url and convert to data.frame
jsonaddress = fromJSON(readLines(url)[1])
urla <- param_set(urla, key = "q", value = address)
# read url and convert to data.frame
jsonaddress = fromJSON(readLines(urla)[1])
# read url and convert to data.frame
jsonaddress = fromJSON(readLines(urla)[1])
library("httr", lib.loc="C:/Users/GiulioVannini/Documents/R/win-library/3.3")
library(httr)
callRestWS <- function(endpoint, parameters) {     result <- GET(endpointUrl, query = parameters)     return(result) }
address <- "1600 Pennsylvania Avenue, Washington, DC"
endpointUrl <- "http://nominatim.openstreetmap.org/search"
queryList <- list(q = address, addressdetails = 1, format = "json")
response <- callRestWS(endpointUrl, queryList)
#result <- GET(endpointUrl, query=list(q=address,addressdetails=1,format="json"))
result <- GET(endpointUrl, query=list(q=address,addressdetails=1,format="json"))
response$status_code
addressList <- content(response, as = "parsed")
addressList[[1]]
